---
title: "Toronto Beach Data"
subtitle: "Data Analysis of the Relationship Between Date of Observation, Air Temperatures, Water Temperatures, Rainfall Presence, and waterfowl activity"
author: "Yanzun Jiang"
date: today
date-format: long
thanks: "Code and data supporting this analysis is available at: <https://github.com/Stary54264/Toronto-Beach-Data>"
abstract: "This report analyzes environmental data collected in the summer of 2023 regarding Toronto's beaches, focusing on variables such as air temperature, water temperature, rainfall, and waterfowl observations. The findings reveal that #TODO increased water temperatures correlate with higher waterfowl activity, while rainy conditions tend to reduce sightings.# These insights emphasize the importance of understanding how weather patterns affect wildlife behavior and beach usability, suggesting that public awareness and management strategies should be adapted accordingly. Future research should explore the impact of these environmental factors on beachgoer experiences and the broader ecological implications."
format: pdf
number-sections: true
toc: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false

# load packages and read data
library(tidyverse)
library(knitr)
```

\newpage

# Introduction

In 2014, Toronto experienced an extremely cold summer that impacted its beaches @torontoweather. During this period, data on key environmental factors, such as air temperature, water temperature, rainfall, and observations of waterfowl activity, was collected at various beaches across the city @opendatatoronto. These factors are critical as they directly influence the ecological balance of the beaches, the safety of recreational activities, and the overall enjoyment of beachgoers @weatherandbeach.

Consequently, analyzing this environmental data is essential to understanding how these variables affect the behavior of waterfowl and the suitability of the beaches for public use. According to @temperatureandwaterfowl, waterfowl presence can be influenced by temperature changes, precipitation, and human activity on the beaches. This study examines the relationships between air temperature, water temperature, rainfall, and waterfowl observations, and how these conditions might correlate with fluctuations in bird activity and potential impacts on beachgoers.

To conduct this analysis, a dataset collected by @opendatatoronto was utilized, as described in @sec-data. Based on the initial findings, it was observed that #TODO higher water temperatures coincided with an increase in waterfowl activity, while rainy days led to a decrease in sightings (@sec-results).# As discussed in @sec-discussion, #TODO these trends highlight the potential for waterfowl to congregate under specific environmental conditions, potentially affecting beach safety and cleanliness. Further recommendations include improving public awareness of how wildlife interactions and weather patterns influence beach environments.# This paper's structure includes an overview of the data and methods in @sec-data, the results of the analysis in @sec-results, a detailed discussion of the results in @sec-discussion, and supplementary insights in @sec-appendix.

# Data {#sec-data}

```{r}
#| include: false
#| warning: false
#| message: false

data <- read_csv(here::here("data/analysis_data/analysis_data.csv"))
```

## Overview

The dataset used in this analysis is the "Toronto Beaches Observations" sourced from Toronto's Open Data platform @opendatatoronto. It records various aspects of the beaches in Toronto from 2008 to present. In Toronto, water quality at beaches is regularly monitored to ensure public safety, and environmental variables, such as air and water temperature, rainfall, and the presence of waterfowl, are tracked for ecological and recreational purposes @opendatatoronto.

The variables analyzed in this study include "Date," which records the day each measurement was taken; "Air Temperature," which represents the temperature of the atmosphere at the beach site; "Water Temperature," indicating the temperature of the water in designated swimming areas; "Rainfall," which notes whether there was precipitation on the day of observation; and "Waterfowl Observations," which track the number of birds spotted near the water @opendatatoronto.

The dataset was accessed using the `opendatatoronto` package @opendatatoronto. For the analysis, the R programming language was employed @citeR, utilizing the `tidyverse` @citetidyverse package for data cleaning, transformation, visualization, and the `janitor` package @citejanitor for initial cleaning and formatting of the raw data. Afterward, the cleaned dataset was processed and tested using additional functions from the `tidyverse` package @citetidyverse.

### Preview of the Dataset

Here is a preview of the dataset used in this analysis @tbl-data, which spans from 2008 to present. The dataset provides a comprehensive overview of key environmental variables observed at Toronto's beaches, including the date of observation, air and water temperatures, rainfall presence, and waterfowl activity. These variables are crucial for understanding long-term trends in environmental conditions and their impact on beach safety, water quality, and wildlife behavior. This preview serves as an introduction to the dataset's structure and quality, setting the stage for in-depth analysis and trend exploration over time.

```{r}
#| label: tbl-data
#| tbl-cap: Preview of Data
#| echo: false
#| warning: false
#| message: false

kable(head(data), format = "markdown")
```

### Air Temperature

This histogram (@fig-air-temp) shows the distribution of air temperatures of beaches in Toronto.

```{r}
#| label: fig-air-temp
#| fig-cap: Air Temperature at Toronto Beaches from
#| echo: false
#| warning: false
#| message: false

data |>
  ggplot(aes(x = air_temp)) +
  geom_histogram(bins = 30, col = "darkblue", fill = "lightblue") +
  theme_minimal() +
  labs(x = "Air Temperature", y = "# of Occurences")
```

We can clearly see the data is unimodal and is not skewed.

### Rain

This bar graph (@fig-rain) shows the distribution of whether it rains of not at beaches in Toronto.

```{r}
#| label: fig-rain
#| fig-cap: Bar Graph of Whether It Rains or Not
#| echo: false
#| warning: false
#| message: false

data |>
  ggplot(aes(x = rain)) +
  geom_bar(col = "darkblue", fill = "lightblue") +
  theme_minimal() +
  labs(x = "Whether It Rains or Not", y = "# of Occurences")
```

We can clearly see that there are less raining days.

### Water Temperature

This histogram (@fig-water-temp) shows the distribution of water temperatures of beaches in Toronto.

```{r}
#| label: fig-water-temp
#| fig-cap: Histogram of Water Temperature
#| echo: false
#| warning: false
#| message: false

data |>
  ggplot(aes(x = water_temp)) +
  geom_histogram(bins = 30, col = "darkblue", fill = "lightblue") +
  theme_minimal() +
  labs(x = "Water Temperature", y = "# of Occurences")
```

We can clearly see the data is unimodal, which is the same as air temperatures, but it is left-skewed.

### Observations of Water Fowls

This histogram (@fig-water-fowl) shows the distribution of observations of water fowls of beaches in Toronto.

```{r}
#| label: fig-water-fowl
#| fig-cap: Histogram of Observations of Water Fowls
#| echo: false
#| warning: false
#| message: false

data |>
  ggplot(aes(x = water_fowl)) +
  geom_histogram(bins = 30, col = "darkblue", fill = "lightblue") +
  theme_minimal() +
  labs(x = "Observations of Water Fowls", y = "# of Occurences")
```

We can clearly see the data is unimodal but highly right-skewed.

# Results {#sec-results}

Our results are summarized in.

```{r}
#| echo: false
#| eval: true
#| warning: false
#| message: false

library(rstanarm)
```


```{r}
#| echo: false
#| eval: true
#| label: tbl-modelresults
#| tbl-cap: "Explanatory models of flight time based on wing width and wing length"
#| warning: false

```


# Discussion {#sec-discussion}

## First discussion point

If my paper were 10 pages, then should be be at least 2.5 pages. The discussion is a chance to show off what you know and what you learnt from all this. 

## Second discussion point

## Third discussion point

## Weaknesses and next steps

Weaknesses and next steps should also be included.

\newpage

\appendix

# Appendix {#sec-appendix}

## Graph and Sketches

Sketches depicting both the desired dataset and the graphs generated in this analysis are available in the GitHub Repository.

## Data Cleaning

The data cleaning process involved renaming variables, filtering out useless columns from the raw dataset, filtering out observations with NAs, and removing the outliers using z-scores.

\newpage

# References
