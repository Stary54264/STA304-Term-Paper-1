---
title: "Data Analysis of the Relationship Between Date, Air Temperature, Whether It Rains or Not, Water Temperature, and Observations of Water Fowls at Beaches in Toronto"
author: "Yanzun Jiang"
date: today
date-format: long
thanks: "Code and data supporting this analysis is available at: https://github.com/Stary54264/Toronto-Beach-Data"
abstract: "This paper conducted a basic data analysis on data of beaches in Toronto. The variables mentioned in the tile are highly correlated. The analysis can help us to know better about beaches in Toronto. Further, it helps meteorologists to monitor climate changes."
format: pdf
number-sections: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false

# load packages and read data
library(tidyverse)
library(knitr)
```

# Introduction

We use @citeR and @opendatatoronto.

The remainder of this paper is structured as follows.

@sec-data

&nbsp; @sec-data-1

&nbsp; @sec-data-2

&nbsp; &nbsp; @sec-data-2-1

&nbsp; &nbsp; @sec-data-2-2

&nbsp; &nbsp; @sec-data-2-3

&nbsp; &nbsp; @sec-data-2-4

@sec-results

@sec-discussion

\newpage

# Data {#sec-data}

```{r}
#| include: false
#| warning: false
#| message: false

data <- read_csv(here::here("data/analysis_data/analysis_data.csv"))
```

## Preview of data {#sec-data-1}

Our data (@tbl-data) is about beaches in Toronto, from @opendatatoronto.

```{r}
#| label: tbl-data
#| echo: false
#| warning: false
#| message: false

kable(head(data), format = "markdown")
```

This dataset records the date (which was separated into year, month, and day), the air temperature, whether it rains or not, the water temperature, and the observations of water fowls. We will analyze the relationship between these variables in the following part.

## Visualization of the Distribution of Each Observed Variable {#sec-data-2}

This part shows the distributions of each observed variables using histograms.

### Air Temperature {#sec-data-2-1}

This histogram (@fig-air-temp) shows the distribution of air temperatures of beaches in Toronto.

```{r}
#| label: fig-air-temp
#| fig-cap: Histogram of Air Temperature
#| echo: false
#| warning: false
#| message: false

data |>
  ggplot(aes(x = air_temp)) +
  geom_histogram(bins = 30, col = "darkblue", fill = "lightblue") +
  theme_minimal() +
  labs(x = "Air Temperature", y = "# of Occurences")
```

We can clearly see the data is unimodal and is not skewed.

### Rain {#sec-data-2-2}

This bar graph (@fig-rain) shows the distribution of whether it rains of not at beaches in Toronto.

```{r}
#| label: fig-rain
#| fig-cap: Bar Graph of Whether It Rains or Not
#| echo: false
#| warning: false
#| message: false

data |>
  ggplot(aes(x = rain)) +
  geom_bar(col = "darkblue", fill = "lightblue") +
  theme_minimal() +
  labs(x = "Whether It Rains or Not", y = "# of Occurences")
```

We can clearly see that there are less raining days.

### Water Temperature {#sec-data-2-3}

This histogram (@fig-water-temp) shows the distribution of water temperatures of beaches in Toronto.

```{r}
#| label: fig-water-temp
#| fig-cap: Histogram of Water Temperature
#| echo: false
#| warning: false
#| message: false

data |>
  ggplot(aes(x = water_temp)) +
  geom_histogram(bins = 30, col = "darkblue", fill = "lightblue") +
  theme_minimal() +
  labs(x = "Water Temperature", y = "# of Occurences")
```

We can clearly see the data is unimodal, which is the same as air temperatures, but it is left-skewed.

### Observations of Water Fowls {#sec-data-2-4}

This histogram (@fig-water-fowl) shows the distribution of observations of water fowls of beaches in Toronto.

```{r}
#| label: fig-water-fowl
#| fig-cap: Histogram of Observations of Water Fowls
#| echo: false
#| warning: false
#| message: false

data |>
  ggplot(aes(x = water_fowl)) +
  geom_histogram(bins = 30, col = "darkblue", fill = "lightblue") +
  theme_minimal() +
  labs(x = "Observations of Water Fowls", y = "# of Occurences")
```

We can clearly see the data is unimodal but highly right-skewed.

# Results {#sec-results}

Our results are summarized in.

```{r}
#| echo: false
#| eval: true
#| warning: false
#| message: false

library(rstanarm)
```


```{r}
#| echo: false
#| eval: true
#| label: tbl-modelresults
#| tbl-cap: "Explanatory models of flight time based on wing width and wing length"
#| warning: false

```


# Discussion {#sec-discussion}

## First discussion point {#sec-first-point}

If my paper were 10 pages, then should be be at least 2.5 pages. The discussion is a chance to show off what you know and what you learnt from all this. 

## Second discussion point

## Third discussion point

## Weaknesses and next steps

Weaknesses and next steps should also be included.

\newpage

\appendix

# Appendix {-}


# Additional data details


\newpage


# References


